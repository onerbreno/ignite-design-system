import{_ as E}from"./extends-98964cd2.js";import{r as c}from"./index-61bf1805.js";import{c as N,d as P,b as S,$ as _,a as g}from"./index-a44938c2.js";import{r as T}from"./index-2801d3c9.js";function y(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function w(e){const[t,n]=c.useState(void 0);return N(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let f,d;if("borderBoxSize"in a){const i=a.borderBoxSize,s=Array.isArray(i)?i[0]:i;f=s.inlineSize,d=s.blockSize}else f=e.offsetWidth,d=e.offsetHeight;n({width:f,height:d})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}function U(e,t){return c.useReducer((n,o)=>{const r=t[n][o];return r??n},e)}const R=e=>{const{present:t,children:n}=e,o=z(t),r=typeof n=="function"?n({present:o.isPresent}):c.Children.only(n),a=P(o.ref,r.ref);return typeof n=="function"||o.isPresent?c.cloneElement(r,{ref:a}):null};R.displayName="Presence";function z(e){const[t,n]=c.useState(),o=c.useRef({}),r=c.useRef(e),a=c.useRef("none"),f=e?"mounted":"unmounted",[d,i]=U(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const s=x(o.current);a.current=d==="mounted"?s:"none"},[d]),N(()=>{const s=o.current,b=r.current;if(b!==e){const m=a.current,p=x(s);e?i("MOUNT"):p==="none"||(s==null?void 0:s.display)==="none"?i("UNMOUNT"):i(b&&m!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,i]),N(()=>{if(t){const s=u=>{const p=x(o.current).includes(u.animationName);u.target===t&&p&&T.flushSync(()=>i("ANIMATION_END"))},b=u=>{u.target===t&&(a.current=x(o.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",s),t.addEventListener("animationend",s),()=>{t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",s),t.removeEventListener("animationend",s)}}else i("ANIMATION_END")},[t,i]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:c.useCallback(s=>{s&&(o.current=getComputedStyle(s)),n(s)},[])}}function x(e){return(e==null?void 0:e.animationName)||"none"}function D({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,r]=L({defaultProp:t,onChange:n}),a=e!==void 0,f=a?e:o,d=S(n),i=c.useCallback(s=>{if(a){const u=typeof s=="function"?s(e):s;u!==e&&d(u)}else r(s)},[a,e,r,d]);return[f,i]}function L({defaultProp:e,onChange:t}){const n=c.useState(e),[o]=n,r=c.useRef(o),a=S(t);return c.useEffect(()=>{r.current!==o&&(a(o),r.current=o)},[o,r,a]),n}function B(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const M="Checkbox",[q,Z]=_(M),[K,F]=q(M),W=c.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:o,checked:r,defaultChecked:a,required:f,disabled:d,value:i="on",onCheckedChange:s,...b}=e,[u,m]=c.useState(null),p=P(t,l=>m(l)),C=c.useRef(!1),A=u?!!u.closest("form"):!0,[h=!1,k]=D({prop:r,defaultProp:a,onChange:s}),I=c.useRef(h);return c.useEffect(()=>{const l=u==null?void 0:u.form;if(l){const v=()=>k(I.current);return l.addEventListener("reset",v),()=>l.removeEventListener("reset",v)}},[u,k]),c.createElement(K,{scope:n,state:h,disabled:d},c.createElement(g.button,E({type:"button",role:"checkbox","aria-checked":$(h)?"mixed":h,"aria-required":f,"data-state":O(h),"data-disabled":d?"":void 0,disabled:d,value:i},b,{ref:p,onKeyDown:y(e.onKeyDown,l=>{l.key==="Enter"&&l.preventDefault()}),onClick:y(e.onClick,l=>{k(v=>$(v)?!0:!v),A&&(C.current=l.isPropagationStopped(),C.current||l.stopPropagation())})})),A&&c.createElement(G,{control:u,bubbles:!C.current,name:o,value:i,checked:h,required:f,disabled:d,style:{transform:"translateX(-100%)"}}))}),X="CheckboxIndicator",j=c.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:o,...r}=e,a=F(X,n);return c.createElement(R,{present:o||$(a.state)||a.state===!0},c.createElement(g.span,E({"data-state":O(a.state),"data-disabled":a.disabled?"":void 0},r,{ref:t,style:{pointerEvents:"none",...e.style}})))}),G=e=>{const{control:t,checked:n,bubbles:o=!0,...r}=e,a=c.useRef(null),f=B(n),d=w(t);return c.useEffect(()=>{const i=a.current,s=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(s,"checked").set;if(f!==n&&u){const m=new Event("click",{bubbles:o});i.indeterminate=$(n),u.call(i,$(n)?!1:n),i.dispatchEvent(m)}},[f,n,o]),c.createElement("input",E({type:"checkbox","aria-hidden":!0,defaultChecked:$(n)?!1:n},r,{tabIndex:-1,ref:a,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function $(e){return e==="indeterminate"}function O(e){return $(e)?"indeterminate":e?"checked":"unchecked"}const V=W,ee=j;export{V as $,ee as a,y as b,w as c,D as d,R as e};
//# sourceMappingURL=index-c487c998.js.map
